<div class="page-wrapper">
    <!-- ============================================================== -->
    <!-- Bread crumb and right sidebar toggle -->
    <!-- ============================================================== -->
    <div class="page-breadcrumb">
        <div class="row">
            <div class="col-7 align-self-center">
                <h4 class="page-title text-truncate text-dark font-weight-medium mb-1">Table Transaksi</h4>
                <div class="d-flex align-items-center">
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb m-0 p-0">
                            <li class="breadcrumb-item"><a href="/" class="text-muted">Dashboard</a></li>
                            <li class="breadcrumb-item text-muted active" aria-current="page">Transaksi</li>
                        </ol>
                    </nav>
                </div>
            </div>
            <div class="col-5 align-self-center">
                <div class="customize-input float-right">
                    <select class="custom-select custom-select-set form-control bg-white border-0 custom-shadow custom-radius">
                        <option selected>Aug 19</option>
                        <option value="1">July 19</option>
                        <option value="2">Jun 19</option>
                    </select>
                </div>
            </div>
        </div>
    </div>
    <!-- ============================================================== -->
    <!-- End Bread crumb and right sidebar toggle -->
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <!-- Container fluid  -->
    <!-- ============================================================== -->
    <div class="container-fluid">
        <!-- ============================================================== -->
        <!-- Start Page Content -->
        <!-- ============================================================== -->
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-body">
                            <a href="/transaksi/create" class="btn waves-effect waves-light btn-outline-success">Tambah Transaksi</a>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-hover">
            <thead>
            <tr>
                <th scope="col">ID Transaksi</th>
                <th scope="col">Nama Produk</th>
                <th scope="col">Jumlah</th>
                <th scope="col">Harga Total</th>
                <th scope="col">Nama User</th>
                <th scope="col">Nama Pelanggan</th>
                <th scope="col">Status Transaksi</th>
                <th scope="col">Created At</th>
                <th scope="col">Proses Status Transaksi</th>
            </tr>
        </thead>
        <tbody>
            <% transaksi.forEach(transaksis => { %>
                <tr>
                    <td><%= transaksis.id %></td>
                    <td><%= transaksis.nama_produk %></td>
                    <td><%= transaksis.jumlah %></td>
                    <td>Rp. <%= transaksis.harga_total %></td>
                    <td><%= transaksis.id_user %></td>
                    <td><%= transaksis.id_pelanggan %></td>
                    <td>
                        <% let badgeClass = ''; %>
                        <% if (transaksis.status_transaksi === "DIPROSES") { %>
                            <% badgeClass = 'badge-warning'; %>
                        <% } else if (transaksis.status_transaksi === "DIBAYAR") { %>
                            <% badgeClass = 'badge-success'; %>
                        <% } else if (transaksis.status_transaksi === "SELESAI") { %>
                            <% badgeClass = 'badge-primary'; %>
                        <% } else { %>
                            <% badgeClass = 'badge-danger'; %>
                        <% } %>
                        <span class="badge <%= badgeClass %>"><%= transaksis.status_transaksi %></span>
                    </td>
                    <td><%= new Date(transaksis.created_at).toISOString().split('T')[0] %></td>
                    <td>
                        <% if (transaksis.status_transaksi === "DIBAYAR") { %>
                            <button type="button" class="btn btn-secondary waves-effect waves-light" data-id="<%= transaksis.id %>">Lunas</button>
                        <% } else { %>
                            <% btnClass = 'btn-primary'; %>
                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#updateStatusModal" data-id="<%= transaksis.id %>">Update Status</button>
                        <% } %>
                    </td>
                </tr>
            <% }); %>
        </tbody>
        
        
    </table>
</div>
</div>
</div>
</div>
<!-- ============================================================== -->
<!-- End PAge Content -->
<!-- ============================================================== -->
<!-- ============================================================== -->
<!-- Right sidebar -->
<!-- ============================================================== -->
<!-- .right-sidebar -->
<!-- ============================================================== -->
<!-- End Right sidebar -->
<!-- ============================================================== -->
</div>
<!-- ============================================================== -->
<!-- End Container fluid  -->
<!-- ============================================================== -->
<!-- ============================================================== -->
<!-- footer -->
<!-- ============================================================== -->
<footer class="footer text-center text-muted">
All Rights Reserved by Adminmart. Designed and Developed by <a
href="https://wrappixel.com">WrapPixel</a>.
</footer>
<!-- ============================================================== -->
<!-- End footer -->
<!-- ============================================================== -->
</div>